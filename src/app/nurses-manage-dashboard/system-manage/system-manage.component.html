<!-- <img *ngIf="UserName != 'adahabre'" src="https://balko.co.il/wp-content/uploads/2020/02/under-construction-.jpg"
    width="100%" height="100%"> -->

<div class="container" *ngIf="UserName == 'adahabre'" dir="rtl">
    <form dir="rtl" class="form col" [formGroup]="updateBedsGroup">
        <div class="row">
            <div class="col-12 bedsUpdate">
                <h2>שיוך אחות למחלקה חדשה</h2>
                <div class="row">
                    <div class="col-4">
                        <div class="form-group">
                            <mat-form-field>
                                <mat-label style="font-family: 'Math';">שם אחות</mat-label>
                                <input type="text" aria-label="nurseName"
                                    style="font-family: 'math';font-weight: bolder;font-size: 18px;" matInput
                                    [formControl]="nurseName" [matAutocomplete]="auto">
                                <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn2">
                                    <mat-option *ngFor="let name of filteredOptions | async" [value]="name"
                                        style="font-family: 'Math';font-weight: bolder;font-size: 18px;">
                                        {{name.FirstName}} {{name.LastName}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <mat-form-field>
                                <mat-label style="font-family: 'Math';">מחלקה</mat-label>
                                <input type="text" aria-label="nurseDept"
                                    style="font-family: 'Math';font-weight: bolder;font-size: 18px;" matInput
                                    [formControl]="nurseDept" [matAutocomplete]="auto3">
                                <mat-autocomplete #auto3="matAutocomplete" [displayWith]="displayFn">
                                    <mat-option *ngFor="let dept of filteredOptions3 | async" [value]="dept"
                                        style="font-family: 'math';font-weight: bolder;font-size: 18px;">
                                        {{dept.DepartnentDescripton}}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-4">
                        <button matTooltip="שמירה" mat-raised-button type="submit"
                            class="btn btn-primary btn-raised float-right" (click)="submitUpdateEmployee()">
                            <span class="material-icons">
                                done
                            </span>
                        </button>
                        <button matTooltip="ייצוא לקסל" style="height: 36px;" mat-raised-button type="submit"
                            class="btn btn-primary btn-raised">
                            <a style="cursor: pointer" (click)="exportexcel()">
                                <mat-icon> cloud_download</mat-icon>
                            </a>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<table id="excel-table" dir="rtl" style="display: none;">
    <tr>
        <th>תעודת זהות</th>
        <th>שם העובד</th>
        <th>קוד מחלקה</th>
        <th> שם מחלקה</th>
    </tr>
    <tr *ngFor="let emp of employees">
        <td> {{emp.EmployeeID}} </td>
        <td> {{emp.FirstName}} {{emp.LastName}} </td>
        <td> {{emp.DepartnentCode}} </td>
        <td> {{emp.DepartnentDescripton}} </td>
    </tr>
</table>
<hr>
<div dir="rtl">
    <div dir="rtl" class="container text-center" style="padding-bottom: 100px;">
        <div class="row" [formGroup]="hospitalDepartTypeGroup">
            <mat-radio-group aria-label="Select an option" formControlName="hospitalDepartType"
                (change)="changeDepartType()">
                <mat-radio-button value="1" style="margin-left: 16px;">סיעודי</mat-radio-button>
                <mat-radio-button value="2">רפואי</mat-radio-button>
            </mat-radio-group>
        </div>
        <!-- <button mat-button (click)="openDialog('הוסף',{})" mat-flat-button color="primary">הוסף</button> -->

        <table mat-table [dataSource]="dataSource" #mytable class="my-table mat-elevation-z8">

            <ng-container matColumnDef="rowid">
                <th mat-header-cell *matHeaderCellDef> מספר מחלקה </th>
                <td mat-cell *matCellDef="let element"> {{element.Row_ID}} </td>
            </ng-container>

            <ng-container matColumnDef="namerid">
                <th mat-header-cell *matHeaderCellDef> קוד מחלקה </th>
                <td mat-cell *matCellDef="let element"> {{element.Namer_ID}} </td>
            </ng-container>

            <ng-container matColumnDef="departname">
                <th mat-header-cell *matHeaderCellDef> שם מחלקה </th>
                <td mat-cell *matCellDef="let element"> {{element.Depart_Name}} </td>
            </ng-container>

            <ng-container matColumnDef="numberofbeds">
                <th mat-header-cell *matHeaderCellDef> מספר מיטות </th>
                <td mat-cell *matCellDef="let element"> {{element.number_of_beds}} </td>
            </ng-container>

            <ng-container matColumnDef="saveBtn">
                <th mat-header-cell *matHeaderCellDef> שמירה </th>
                <td mat-cell *matCellDef="let element" class="action-link">
                    <a (click)="openDialog('עדכן',element)" style="color: blue">עדכן</a> |
                    <a (click)="openDialog('מחק',element)" style="color: red">מחק</a>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>